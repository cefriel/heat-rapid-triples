"use strict";(self["webpackChunkheat_rapid_triples"]=self["webpackChunkheat_rapid_triples"]||[]).push([[13],{17013:function(t,e,i){i.r(e);var s=i(24353);class a extends s.RdfXmlParser{constructor({factory:t,...e}={}){super({...e,dataFactory:t})}}e["default"]=a},17024:function(t,e,i){var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var a=Object.getOwnPropertyDescriptor(e,i);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,a)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),a=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),a(i(32300),e)},24353:function(t,e,i){var s=this&&this.__createBinding||(Object.create?function(t,e,i,s){void 0===s&&(s=i);var a=Object.getOwnPropertyDescriptor(e,i);a&&!("get"in a?!e.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,s,a)}:function(t,e,i,s){void 0===s&&(s=i),t[s]=e[i]}),a=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||s(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),a(i(93923),e)},30570:function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.ParseError=void 0;class i extends Error{constructor(t,e){const i=t.saxParser;super(t.trackPosition?`Line ${i.line} column ${i.column+1}: ${e}`:e)}}e.ParseError=i},31487:function(t,e){
/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */
Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR="\t\n\r -íŸ¿î€€-ï¿½ð€€-ô¿¿",e.S=" \t\r\n",e.NAME_START_CHAR=":A-Z_a-zÃ€-Ã–Ã˜-Ã¶Ã¸-Ë¿Í°-Í½Í¿-á¿¿â€Œâ€â°-â†â°€-â¿¯ã€-íŸ¿ï¤€-ï·ï·°-ï¿½ð€€-ó¯¿¿",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9Â·Ì€-Í¯â€¿-â€",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u");var i=9,s=10,a=13,r=32;function n(t){return t>=r&&t<=55295||t===s||t===a||t===i||t>=57344&&t<=65533||t>=65536&&t<=1114111}function o(t){return t===r||t===s||t===a||t===i}function h(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}function l(t){return h(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}e.S_LIST=[r,s,a,i],e.isChar=n,e.isS=o,e.isNameStartChar=h,e.isNameChar=l},32300:function(t,e){function i(){const t="!$&'()*+,;=",e=`[${t}]`,i="%[a-fA-F0-9]{2}",s="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",a=`${s}\\.${s}\\.${s}\\.${s}`,r="[a-fA-F0-9]{1,4}",n=`(${r}:${r}|${a})`,o=`((${r}:){6}${n}|::(${r}:){5}${n}|(${r})?::(${r}:){4}${n}|((${r}:){0,1}${r})?::(${r}:){3}${n}|((${r}:){0,2}${r})?::(${r}:){2}${n}|((${r}:){0,3}${r})?::${r}:${n}|((${r}:){0,4}${r})?::${n}|((${r}:){0,5}${r})?::${r}|((${r}:){0,6}${r})?::)`,h=`v[a-fA-F0-9]+\\.(${e}|${e}|":)+`,l=`\\[(${o}|${h})\\]`,c="[0-9]*",d="[a-zA-Z][a-zA-Z0-9+\\-.]*",u="î€€-ï£¿ó°€€-ó¿¿½ô€€€-ô¿½",p=`[${u}]`,f="Â -íŸ¿ï¤€-ï·ï·°-ï¿¯ð€€-ðŸ¿½ð €€-ð¯¿½ð°€€-ð¿¿½ñ€€€-ñ¿½ñ€€-ñŸ¿½ñ €€-ñ¯¿½ñ°€€-ñ¿¿½ò€€€-ò¿½ò€€-òŸ¿½ò €€-ò¯¿½ò°€€-ò¿¿½ó€€€-ó¿½ó€€-óŸ¿½ó¡€€-ó¯¿½",m=`a-zA-Z0-9\\-._~${f}`,g=`[${m}]`,T=`(${g}|${i}|${e}|[:@])*`,b=`(${T}|[\\/?])*`,v=`(${T}|${p}|[\\/?])*`,x=`(${T})+`,C=`(${T})*`,w="",E=`${x}(\\/${C})*`,R=`\\/(${x}(\\/${C})*)?`,S=`(\\/${C})*`,N=`(${g}|${i}|${e})*`,D=`(${l}|${a}|${N})`,y=`(${g}|${i}|${e}|:)*`,$=`(${y}@)?${D}(:${c})?`,P=`(\\/\\/${$}${S}|${R}|${E}|${w})`,A=`^${d}:${P}(\\?${v})?(#${b})?$`;return new RegExp(A,"u")}Object.defineProperty(e,"__esModule",{value:!0}),e.validateIri=e.IriValidationStrategy=void 0;const s=i(),a=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var r;function n(t,e=r.Strict){switch(e){case r.Strict:return s.test(t)?void 0:new Error(`Invalid IRI according to RFC 3987: '${t}'`);case r.Pragmatic:return a.test(t)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${t}'`);case r.None:return;default:return new Error(`Not supported validation strategy "${e}"`)}}(function(t){t["Strict"]="strict",t["Pragmatic"]="pragmatic",t["None"]="none"})(r=e.IriValidationStrategy||(e.IriValidationStrategy={})),e.validateIri=n},55201:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.SaxesParser=e.EVENTS=void 0;const s=i(31487),a=i(84797),r=i(60446);var n=s.isS,o=s.isChar,h=s.isNameStartChar,l=s.isNameChar,c=s.S_LIST,d=s.NAME_RE,u=a.isChar,p=r.isNCNameStartChar,f=r.isNCNameChar,m=r.NC_NAME_RE;const g="http://www.w3.org/XML/1998/namespace",T="http://www.w3.org/2000/xmlns/",b={__proto__:null,xml:g,xmlns:T},v={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},x=-1,C=-2,w=0,E=1,R=2,S=3,N=4,D=5,y=6,$=7,P=8,A=9,_=10,I=11,k=12,F=13,M=14,O=15,H=16,L=17,j=18,V=19,X=20,B=21,q=22,W=23,U=24,z=25,Z=26,Y=27,G=28,Q=29,J=30,K=31,tt=32,et=33,it=34,st=35,at=36,rt=37,nt=38,ot=39,ht=40,lt=41,ct=42,dt=43,ut=44,pt=9,ft=10,mt=13,gt=32,Tt=33,bt=34,vt=38,xt=39,Ct=45,wt=47,Et=59,Rt=60,St=61,Nt=62,Dt=63,yt=91,$t=93,Pt=133,At=8232,_t=t=>t===bt||t===xt,It=[bt,xt],kt=[...It,yt,Nt],Ft=[...It,Rt,$t],Mt=[St,Dt,...c],Ot=[...c,Nt,vt,Rt];function Ht(t,e,i){switch(e){case"xml":i!==g&&t.fail(`xml prefix must be bound to ${g}.`);break;case"xmlns":i!==T&&t.fail(`xmlns prefix must be bound to ${T}.`);break;default:}switch(i){case T:t.fail(""===e?`the default namespace may not be set to ${i}.`:`may not assign a prefix (even "xmlns") to the URI ${T}.`);break;case g:switch(e){case"xml":break;case"":t.fail(`the default namespace may not be set to ${i}.`);break;default:t.fail("may not assign the xml namespace to another prefix.")}break;default:}}function Lt(t,e){for(const i of Object.keys(e))Ht(t,i,e[i])}const jt=t=>m.test(t),Vt=t=>d.test(t),Xt=0,Bt=1,qt=2;e.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Wt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class Ut{get closed(){return this._closed}constructor(t){this.opt=null!==t&&void 0!==t?t:{},this.fragmentOpt=!!this.opt.fragment;const e=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,e){this.nameStartCheck=p,this.nameCheck=f,this.isName=jt,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},b);const t=this.opt.additionalNamespaces;null!=t&&(Lt(this,t),Object.assign(this.ns,t))}else this.nameStartCheck=h,this.nameCheck=l,this.isName=Vt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var t;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Xt,this.attribList=[];const{fragmentOpt:e}=this;this.state=e?F:w,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=e,this.xmlDeclPossible=!e,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:i}=this.opt;if(void 0===i){if(!0===this.opt.forceXMLVersion)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");i="1.0"}this.setXMLVersion(i),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(v),null===(t=this.readyHandler)||void 0===t||t.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(t,e){this[Wt[t]]=e}off(t){this[Wt[t]]=void 0}makeError(t){var e;let i=null!==(e=this.fileName)&&void 0!==e?e:"";return this.trackPosition&&(i.length>0&&(i+=":"),i+=`${this.line}:${this.column}`),i.length>0&&(i+=": "),new Error(i+t)}fail(t){const e=this.makeError(t),i=this.errorHandler;if(void 0===i)throw e;return i(e),this}write(t){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let e=!1;null===t?(e=!0,t=""):"object"===typeof t&&(t=t.toString()),void 0!==this.carriedFromPrevious&&(t=`${this.carriedFromPrevious}${t}`,this.carriedFromPrevious=void 0);let i=t.length;const s=t.charCodeAt(i-1);!e&&(s===mt||s>=55296&&s<=56319)&&(this.carriedFromPrevious=t[i-1],i--,t=t.slice(0,i));const{stateTable:a}=this;this.chunk=t,this.i=0;while(this.i<i)a[this.state].call(this);return this.chunkPosition+=i,e?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:t,i:e}=this;if(this.prevI=e,this.i=e+1,e>=t.length)return x;const i=t.charCodeAt(e);if(this.column++,i<55296){if(i>=gt||i===pt)return i;switch(i){case ft:return this.line++,this.column=0,this.positionAtNewLine=this.position,ft;case mt:return t.charCodeAt(e+1)===ft&&(this.i=e+2),this.line++,this.column=0,this.positionAtNewLine=this.position,C;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const s=65536+1024*(i-55296)+(t.charCodeAt(e+1)-56320);return this.i=e+2,s>1114111&&this.fail("disallowed character."),s}getCode11(){const{chunk:t,i:e}=this;if(this.prevI=e,this.i=e+1,e>=t.length)return x;const i=t.charCodeAt(e);if(this.column++,i<55296){if(i>31&&i<127||i>159&&i!==At||i===pt)return i;switch(i){case ft:return this.line++,this.column=0,this.positionAtNewLine=this.position,ft;case mt:{const i=t.charCodeAt(e+1);i!==ft&&i!==Pt||(this.i=e+2)}case Pt:case At:return this.line++,this.column=0,this.positionAtNewLine=this.position,C;default:return this.fail("disallowed character."),i}}if(i>56319)return i>=57344&&i<=65533||this.fail("disallowed character."),i;const s=65536+1024*(i-55296)+(t.charCodeAt(e+1)-56320);return this.i=e+2,s>1114111&&this.fail("disallowed character."),s}getCodeNorm(){const t=this.getCode();return t===C?ft:t}unget(){this.i=this.prevI,this.column--}captureTo(t){let{i:e}=this;const{chunk:i}=this;while(1){const s=this.getCode(),a=s===C,r=a?ft:s;if(r===x||t.includes(r))return this.text+=i.slice(e,this.prevI),r;a&&(this.text+=`${i.slice(e,this.prevI)}\n`,e=this.i)}}captureToChar(t){let{i:e}=this;const{chunk:i}=this;while(1){let s=this.getCode();switch(s){case C:this.text+=`${i.slice(e,this.prevI)}\n`,e=this.i,s=ft;break;case x:return this.text+=i.slice(e),!1;default:}if(s===t)return this.text+=i.slice(e,this.prevI),!0}}captureNameChars(){const{chunk:t,i:e}=this;while(1){const i=this.getCode();if(i===x)return this.name+=t.slice(e),x;if(!l(i))return this.name+=t.slice(e,this.prevI),i===C?ft:i}}skipSpaces(){while(1){const t=this.getCodeNorm();if(t===x||!n(t))return t}}setXMLVersion(t){this.currentXMLVersion=t,"1.0"===t?(this.isChar=o,this.getCode=this.getCode10):(this.isChar=u,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=E}sBeginWhitespace(){const t=this.i,e=this.skipSpaces();switch(this.prevI!==t&&(this.xmlDeclPossible=!1),e){case Rt:if(this.state=O,0!==this.text.length)throw new Error("no-empty text at start");break;case x:break;default:this.unget(),this.state=F,this.xmlDeclPossible=!1}}sDoctype(){var t;const e=this.captureTo(kt);switch(e){case Nt:null===(t=this.doctypeHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=F,this.doctype=!0;break;case x:break;default:this.text+=String.fromCodePoint(e),e===yt?this.state=N:_t(e)&&(this.state=S,this.q=e)}}sDoctypeQuote(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.q=null,this.state=R)}sDTD(){const t=this.captureTo(Ft);t!==x&&(this.text+=String.fromCodePoint(t),t===$t?this.state=R:t===Rt?this.state=y:_t(t)&&(this.state=D,this.q=t))}sDTDQuoted(){const t=this.q;this.captureToChar(t)&&(this.text+=String.fromCodePoint(t),this.state=N,this.q=null)}sDTDOpenWaka(){const t=this.getCodeNorm();switch(this.text+=String.fromCodePoint(t),t){case Tt:this.state=$,this.openWakaBang="";break;case Dt:this.state=I;break;default:this.state=N}}sDTDOpenWakaBang(){const t=String.fromCodePoint(this.getCodeNorm()),e=this.openWakaBang+=t;this.text+=t,"-"!==e&&(this.state="--"===e?P:N,this.openWakaBang="")}sDTDComment(){this.captureToChar(Ct)&&(this.text+="-",this.state=A)}sDTDCommentEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),this.state=t===Ct?_:P}sDTDCommentEnded(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Nt?this.state=N:(this.fail("malformed comment."),this.state=P)}sDTDPI(){this.captureToChar(Dt)&&(this.text+="?",this.state=k)}sDTDPIEnding(){const t=this.getCodeNorm();this.text+=String.fromCodePoint(t),t===Nt&&(this.state=N)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:t}=this;const{chunk:e}=this;t:while(1)switch(this.getCode()){case C:this.entity+=`${e.slice(t,this.prevI)}\n`,t=this.i;break;case Et:{const{entityReturnState:i}=this,s=this.entity+e.slice(t,this.prevI);let a;this.state=i,""===s?(this.fail("empty entity name."),a="&;"):(a=this.parseEntity(s),this.entity=""),i===F&&void 0===this.textHandler||(this.text+=a);break t}case x:this.entity+=e.slice(t);break t;default:}}sOpenWaka(){const t=this.getCode();if(h(t))this.state=it,this.unget(),this.xmlDeclPossible=!1;else switch(t){case wt:this.state=dt,this.xmlDeclPossible=!1;break;case Tt:this.state=H,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Dt:this.state=W;break;default:this.fail("disallowed character in tag name"),this.state=F,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=X,this.openWakaBang="";break;case"--":this.state=L,this.openWakaBang="";break;case"DOCTYPE":this.state=R,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(Ct)&&(this.state=j)}sCommentEnding(){var t;const e=this.getCodeNorm();e===Ct?(this.state=V,null===(t=this.commentHandler)||void 0===t||t.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(e)}`,this.state=L)}sCommentEnded(){const t=this.getCodeNorm();t!==Nt?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(t)}`,this.state=L):this.state=F}sCData(){this.captureToChar($t)&&(this.state=B)}sCDataEnding(){const t=this.getCodeNorm();t===$t?this.state=q:(this.text+=`]${String.fromCodePoint(t)}`,this.state=X)}sCDataEnding2(){var t;const e=this.getCodeNorm();switch(e){case Nt:null===(t=this.cdataHandler)||void 0===t||t.call(this,this.text),this.text="",this.state=F;break;case $t:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(e)}`,this.state=X}}sPIFirstChar(){const t=this.getCodeNorm();this.nameStartCheck(t)?(this.piTarget+=String.fromCodePoint(t),this.state=U):t===Dt||n(t)?(this.fail("processing instruction without a target."),this.state=t===Dt?Z:z):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(t),this.state=U)}sPIRest(){const{chunk:t,i:e}=this;while(1){const i=this.getCodeNorm();if(i===x)return void(this.piTarget+=t.slice(e));if(!this.nameCheck(i)){this.piTarget+=t.slice(e,this.prevI);const s=i===Dt;s||n(i)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=s?et:Y):this.state=s?Z:z:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(i));break}}}sPIBody(){if(0===this.text.length){const t=this.getCodeNorm();t===Dt?this.state=Z:n(t)||(this.text=String.fromCodePoint(t))}else this.captureToChar(Dt)&&(this.state=Z)}sPIEnding(){var t;const e=this.getCodeNorm();if(e===Nt){const{piTarget:e}=this;"xml"===e.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(t=this.piHandler)||void 0===t||t.call(this,{target:e,body:this.text}),this.piTarget=this.text="",this.state=F}else e===Dt?this.text+="?":(this.text+=`?${String.fromCodePoint(e)}`,this.state=z);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const t=this.skipSpaces();t!==Dt?t!==x&&(this.state=G,this.name=String.fromCodePoint(t)):this.state=et}sXMLDeclName(){const t=this.captureTo(Mt);if(t===Dt)return this.state=et,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(n(t)||t===St){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=t===St?J:Q}}sXMLDeclEq(){const t=this.getCodeNorm();if(t===Dt)return this.state=et,void this.fail("XML declaration is incomplete.");n(t)||(t!==St&&this.fail("value required."),this.state=J)}sXMLDeclValueStart(){const t=this.getCodeNorm();if(t===Dt)return this.state=et,void this.fail("XML declaration is incomplete.");n(t)||(_t(t)?this.q=t:(this.fail("value must be quoted."),this.q=gt),this.state=K)}sXMLDeclValue(){const t=this.captureTo([this.q,Dt]);if(t===Dt)return this.state=et,this.text="",void this.fail("XML declaration is incomplete.");if(t===x)return;const e=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const t=e;this.xmlDecl.version=t,/^1\.[0-9]+$/.test(t)?this.opt.forceXMLVersion||this.setXMLVersion(t):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(e)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=e;break;case"standalone":"yes"!==e&&"no"!==e&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=e;break;default:}this.name="",this.state=tt}sXMLDeclSeparator(){const t=this.getCodeNorm();t!==Dt?(n(t)||(this.fail("whitespace required."),this.unget()),this.state=Y):this.state=et}sXMLDeclEnding(){var t;const e=this.getCodeNorm();e===Nt?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(t=this.xmldeclHandler)||void 0===t||t.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=F):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var t;const e=this.captureNameChars();if(e===x)return;const i=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=i.ns=Object.create(null)),null===(t=this.openTagStartHandler)||void 0===t||t.call(this,i),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),e){case Nt:this.openTag();break;case wt:this.state=st;break;default:n(e)||this.fail("disallowed character in tag name."),this.state=at}}sOpenTagSlash(){this.getCode()===Nt?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=at)}sAttrib(){const t=this.skipSpaces();t!==x&&(h(t)?(this.unget(),this.state=rt):t===Nt?this.openTag():t===wt?this.state=st:this.fail("disallowed character in attribute name."))}sAttribName(){const t=this.captureNameChars();t===St?this.state=ot:n(t)?this.state=nt:t===Nt?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):t!==x&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const t=this.skipSpaces();switch(t){case x:return;case St:this.state=ot;break;default:this.fail("attribute without value."),this.text="",this.name="",t===Nt?this.openTag():h(t)?(this.unget(),this.state=rt):(this.fail("disallowed character in attribute name."),this.state=at)}}sAttribValue(){const t=this.getCodeNorm();_t(t)?(this.q=t,this.state=ht):n(t)||(this.fail("unquoted attribute value."),this.state=ct,this.unget())}sAttribValueQuoted(){const{q:t,chunk:e}=this;let{i:i}=this;while(1)switch(this.getCode()){case t:return this.pushAttrib(this.name,this.text+e.slice(i,this.prevI)),this.name=this.text="",this.q=null,void(this.state=lt);case vt:return this.text+=e.slice(i,this.prevI),this.state=M,void(this.entityReturnState=ht);case ft:case C:case pt:this.text+=`${e.slice(i,this.prevI)} `,i=this.i;break;case Rt:return this.text+=e.slice(i,this.prevI),void this.fail("disallowed character.");case x:return void(this.text+=e.slice(i));default:}}sAttribValueClosed(){const t=this.getCodeNorm();n(t)?this.state=at:t===Nt?this.openTag():t===wt?this.state=st:h(t)?(this.fail("no whitespace between attributes."),this.unget(),this.state=rt):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const t=this.captureTo(Ot);switch(t){case vt:this.state=M,this.entityReturnState=ct;break;case Rt:this.fail("disallowed character.");break;case x:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",t===Nt?this.openTag():this.state=at}}sCloseTag(){const t=this.captureNameChars();t===Nt?this.closeTag():n(t)?this.state=ut:t!==x&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Nt:this.closeTag();break;case x:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:t,forbiddenState:e}=this;const{chunk:i,textHandler:s}=this;t:while(1)switch(this.getCode()){case Rt:if(this.state=O,void 0!==s){const{text:e}=this,a=i.slice(t,this.prevI);0!==e.length?(s(e+a),this.text=""):0!==a.length&&s(a)}e=Xt;break t;case vt:this.state=M,this.entityReturnState=F,void 0!==s&&(this.text+=i.slice(t,this.prevI)),e=Xt;break t;case $t:switch(e){case Xt:e=Bt;break;case Bt:e=qt;break;case qt:break;default:throw new Error("impossible state")}break;case Nt:e===qt&&this.fail('the string "]]>" is disallowed in char data.'),e=Xt;break;case C:void 0!==s&&(this.text+=`${i.slice(t,this.prevI)}\n`),t=this.i,e=Xt;break;case x:void 0!==s&&(this.text+=i.slice(t));break t;default:e=Xt}this.forbiddenState=e}handleTextOutsideRoot(){let{i:t}=this;const{chunk:e,textHandler:i}=this;let s=!1;t:while(1){const a=this.getCode();switch(a){case Rt:if(this.state=O,void 0!==i){const{text:s}=this,a=e.slice(t,this.prevI);0!==s.length?(i(s+a),this.text=""):0!==a.length&&i(a)}break t;case vt:this.state=M,this.entityReturnState=F,void 0!==i&&(this.text+=e.slice(t,this.prevI)),s=!0;break t;case C:void 0!==i&&(this.text+=`${e.slice(t,this.prevI)}\n`),t=this.i;break;case x:void 0!==i&&(this.text+=e.slice(t));break t;default:n(a)||(s=!0)}}s&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(t,e){var i;const{prefix:s,local:a}=this.qname(t),r={name:t,prefix:s,local:a,value:e};if(this.attribList.push(r),null===(i=this.attributeHandler)||void 0===i||i.call(this,r),"xmlns"===s){const t=e.trim();"1.0"===this.currentXMLVersion&&""===t&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[a]=t,Ht(this,a,t)}else if("xmlns"===t){const t=e.trim();this.topNS[""]=t,Ht(this,"",t)}}pushAttribPlain(t,e){var i;const s={name:t,value:e};this.attribList.push(s),null===(i=this.attributeHandler)||void 0===i||i.call(this,s)}end(){var t,e;this.sawRoot||this.fail("document must contain a root element.");const{tags:i}=this;while(i.length>0){const t=i.pop();this.fail(`unclosed tag: ${t.name}`)}this.state!==w&&this.state!==F&&this.fail("unexpected end.");const{text:s}=this;return 0!==s.length&&(null===(t=this.textHandler)||void 0===t||t.call(this,s),this.text=""),this._closed=!0,null===(e=this.endHandler)||void 0===e||e.call(this),this._init(),this}resolve(t){var e,i;let s=this.topNS[t];if(void 0!==s)return s;const{tags:a}=this;for(let r=a.length-1;r>=0;r--)if(s=a[r].ns[t],void 0!==s)return s;return s=this.ns[t],void 0!==s?s:null===(i=(e=this.opt).resolvePrefix)||void 0===i?void 0:i.call(e,t)}qname(t){const e=t.indexOf(":");if(-1===e)return{prefix:"",local:t};const i=t.slice(e+1),s=t.slice(0,e);return(""===s||""===i||i.includes(":"))&&this.fail(`malformed name: ${t}.`),{prefix:s,local:i}}processAttribsNS(){var t;const{attribList:e}=this,i=this.tag;{const{prefix:e,local:s}=this.qname(i.name);i.prefix=e,i.local=s;const a=i.uri=null!==(t=this.resolve(e))&&void 0!==t?t:"";""!==e&&("xmlns"===e&&this.fail('tags may not have "xmlns" as prefix.'),""===a&&(this.fail(`unbound namespace prefix: ${JSON.stringify(e)}.`),i.uri=e))}if(0===e.length)return;const{attributes:s}=i,a=new Set;for(const r of e){const{name:t,prefix:e,local:i}=r;let n,o;""===e?(n="xmlns"===t?T:"",o=t):(n=this.resolve(e),void 0===n&&(this.fail(`unbound namespace prefix: ${JSON.stringify(e)}.`),n=e),o=`{${n}}${i}`),a.has(o)&&this.fail(`duplicate attribute: ${o}.`),a.add(o),r.uri=n,s[t]=r}this.attribList=[]}processAttribsPlain(){const{attribList:t}=this,e=this.tag.attributes;for(const{name:i,value:s}of t)void 0!==e[i]&&this.fail(`duplicate attribute: ${i}.`),e[i]=s;this.attribList=[]}openTag(){var t;this.processAttribs();const{tags:e}=this,i=this.tag;i.isSelfClosing=!1,null===(t=this.openTagHandler)||void 0===t||t.call(this,i),e.push(i),this.state=F,this.name=""}openSelfClosingTag(){var t,e,i;this.processAttribs();const{tags:s}=this,a=this.tag;a.isSelfClosing=!0,null===(t=this.openTagHandler)||void 0===t||t.call(this,a),null===(e=this.closeTagHandler)||void 0===e||e.call(this,a);const r=this.tag=null!==(i=s[s.length-1])&&void 0!==i?i:null;null===r&&(this.closedRoot=!0),this.state=F,this.name=""}closeTag(){const{tags:t,name:e}=this;if(this.state=F,this.name="",""===e)return this.fail("weird empty close tag."),void(this.text+="</>");const i=this.closeTagHandler;let s=t.length;while(s-- >0){const s=this.tag=t.pop();if(this.topNS=s.ns,null===i||void 0===i||i(s),s.name===e)break;this.fail("unexpected close tag.")}0===s?this.closedRoot=!0:s<0&&(this.fail(`unmatched closing tag: ${e}.`),this.text+=`</${e}>`)}parseEntity(t){if("#"!==t[0]){const e=this.ENTITIES[t];return void 0!==e?e:(this.fail(this.isName(t)?"undefined entity.":"disallowed character in entity name."),`&${t};`)}let e=NaN;return"x"===t[1]&&/^#x[0-9a-f]+$/i.test(t)?e=parseInt(t.slice(2),16):/^#[0-9]+$/.test(t)&&(e=parseInt(t.slice(1),10)),this.isChar(e)?String.fromCodePoint(e):(this.fail("malformed character entity."),`&${t};`)}}e.SaxesParser=Ut},60446:function(t,e){function i(t){return t>=65&&t<=90||95===t||t>=97&&t<=122||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}function s(t){return i(t)||45===t||46===t||t>=48&&t<=57||183===t||t>=768&&t<=879||t>=8255&&t<=8256}
/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */
Object.defineProperty(e,"__esModule",{value:!0}),e.NC_NAME_START_CHAR="A-Z_a-zÃ€-Ã–Ã˜-Ã¶Ã¸-Ë¿Í°-Í½Í¿-á¿¿â€Œ-â€â°-â†â°€-â¿¯ã€-íŸ¿ï¤€-ï·ï·°-ï¿½ð€€-ó¯¿¿",e.NC_NAME_CHAR="-"+e.NC_NAME_START_CHAR+".0-9Â·Ì€-Í¯â€¿-â€",e.NC_NAME_START_CHAR_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]$","u"),e.NC_NAME_CHAR_RE=new RegExp("^["+e.NC_NAME_CHAR+"]$","u"),e.NC_NAME_RE=new RegExp("^["+e.NC_NAME_START_CHAR+"]["+e.NC_NAME_CHAR+"]*$","u"),e.isNCNameStartChar=i,e.isNCNameChar=s},84797:function(t,e){
/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */
Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR="-íŸ¿î€€-ï¿½ð€€-ô¿¿",e.RESTRICTED_CHAR="-\b\v\f--Â„Â†-ÂŸ",e.S=" \t\r\n",e.NAME_START_CHAR=":A-Z_a-zÃ€-Ã–Ã˜-Ã¶Ã¸-Ë¿Í°-Í½Í¿-á¿¿â€Œâ€â°-â†â°€-â¿¯ã€-íŸ¿ï¤€-ï·ï·°-ï¿½ð€€-ó¯¿¿",e.NAME_CHAR="-"+e.NAME_START_CHAR+".0-9Â·Ì€-Í¯â€¿-â€",e.CHAR_RE=new RegExp("^["+e.CHAR+"]$","u"),e.RESTRICTED_CHAR_RE=new RegExp("^["+e.RESTRICTED_CHAR+"]$","u"),e.S_RE=new RegExp("^["+e.S+"]+$","u"),e.NAME_START_CHAR_RE=new RegExp("^["+e.NAME_START_CHAR+"]$","u"),e.NAME_CHAR_RE=new RegExp("^["+e.NAME_CHAR+"]$","u"),e.NAME_RE=new RegExp("^["+e.NAME_START_CHAR+"]["+e.NAME_CHAR+"]*$","u"),e.NMTOKEN_RE=new RegExp("^["+e.NAME_CHAR+"]+$","u");var i=9,s=10,a=13,r=32;function n(t){return t>=1&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111}function o(t){return t>=1&&t<=8||11===t||12===t||t>=14&&t<=31||t>=127&&t<=132||t>=134&&t<=159}function h(t){return 9===t||10===t||13===t||t>31&&t<127||133===t||t>159&&t<=55295||t>=57344&&t<=65533||t>=65536&&t<=1114111}function l(t){return t===r||t===s||t===a||t===i}function c(t){return t>=65&&t<=90||t>=97&&t<=122||58===t||95===t||8204===t||8205===t||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=767||t>=880&&t<=893||t>=895&&t<=8191||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}function d(t){return c(t)||t>=48&&t<=57||45===t||46===t||183===t||t>=768&&t<=879||t>=8255&&t<=8256}e.S_LIST=[r,s,a,i],e.isChar=n,e.isRestrictedChar=o,e.isCharAndNotRestricted=h,e.isS=l,e.isNameStartChar=c,e.isNameChar=d},93923:function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.ParseType=e.RdfXmlParser=void 0;const s=i(70742),a=i(55201),r=i(14088),n=i(30570),o=i(57599),h=i(17024);class l extends r.Transform{constructor(t){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},t&&(Object.assign(this,t),this.options=t),this.dataFactory||(this.dataFactory=new o.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),!1!==this.validateUri&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?h.IriValidationStrategy.Pragmatic:h.IriValidationStrategy.None),this.parseUnsupportedVersions=!!(null===t||void 0===t?void 0:t.parseUnsupportedVersions),this.version=null===t||void 0===t?void 0:t.version,this.saxParser=new a.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(t){const e=new r.PassThrough({readableObjectMode:!0});t.on("error",t=>i.emit("error",t)),t.on("data",t=>e.push(t)),t.on("end",()=>e.push(null));const i=e.pipe(new l(this.options));return i}_transform(t,e,i){if(this.version){const t=this.version;if(this.version=void 0,!this.isValidVersion(t))return i(this.newParseError(`Detected unsupported version as media type parameter: ${t}`))}try{this.saxParser.write(t)}catch(s){return i(s)}i()}newParseError(t){return new n.ParseError(this,t)}valueToUri(t,e){return this.uriToNamedNode((0,s.resolve)(t,e.baseIRI))}uriToNamedNode(t){const e=(0,h.validateIri)(t,this.iriValidationStrategy);if(e instanceof Error)throw this.newParseError(e.message);return this.dataFactory.namedNode(t)}validateNcname(t){if(!l.NCNAME_MATCHER.test(t))throw this.newParseError(`Not a valid NCName: ${t}`)}createLiteral(t,e){return this.dataFactory.literal(t,e.datatype?e.datatype:e.language?{language:e.language,direction:e.rdfVersion?e.direction:void 0}:void 0)}isValidVersion(t){return this.parseUnsupportedVersions||l.SUPPORTED_VERSIONS.includes(t)}attachSaxListeners(){this.saxParser.on("error",t=>this.emit("error",t)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(t){const e=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let i=c.RESOURCE;if(e&&(e.hadChildren=!0,i=e.childrenParseType),e&&e.childrenStringTags){const i=t.name;let s="";for(const{key:t,value:o}of e.namespaces||[])s+=` ${t}="${o}"`;for(const e in t.attributes)s+=` ${e}="${t.attributes[e].value}"`;const a=`${i}${s}`,r=`<${a}>`;e.childrenStringTags.push(r);const n={childrenStringTags:e.childrenStringTags};return n.childrenStringEmitClosingTag=`</${i}>`,void this.activeTagStack.push(n)}const s={};e?(s.language=e.language,s.direction=e.direction,s.baseIRI=e.baseIRI,s.childrenTripleTerms=e.childrenTripleTerms,s.rdfVersion=e.rdfVersion):s.baseIRI=this.baseIRI,this.activeTagStack.push(s),i===c.RESOURCE?this.onTagResource(t,s,e,!e):this.onTagProperty(t,s,e);for(const a in t.attributes){const e=t.attributes[a];"xmlns"===e.prefix&&(s.namespaces||(s.namespaces=[]),s.namespaces.push({key:`${e.prefix}:${e.local}`,value:e.value}))}e&&e.namespaces&&(s.namespaces=[...s.namespaces||[],...e.namespaces])}onTagResource(t,e,i,a){e.childrenParseType=c.PROPERTY;let r=!0;if(t.uri===l.RDF){if(!a&&l.FORBIDDEN_NODE_ELEMENTS.indexOf(t.local)>=0)throw this.newParseError(`Illegal node element name: ${t.local}`);switch(t.local){case"RDF":e.childrenParseType=c.RESOURCE;case"Description":r=!1}}const n=[],o=[];let h=null,d=!1,u=!1,p=null;for(const c in t.attributes){const a=t.attributes[c];if(a.uri!==l.RDF||"version"!==a.local){if(i&&a.uri===l.RDF)switch(a.local){case"about":if(h)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${a.value} and ${h} where found.`);h=a.value;continue;case"ID":if(h)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${a.value} and ${h} where found.`);this.validateNcname(a.value),h="#"+a.value,d=!0;continue;case"nodeID":if(h)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${a.value} and ${h} where found.`);this.validateNcname(a.value),h=a.value,u=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":p=a.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(a.uri===l.XML){if("lang"===a.local){e.language=""===a.value?null:a.value.toLowerCase();continue}if("base"===a.local){e.baseIRI=(0,s.resolve)(a.value,e.baseIRI);continue}}else if(a.uri===l.ITS&&"dir"===a.local){this.setDirection(e,a.value);continue}"xml"===a.prefix||"xmlns"===a.prefix||""===a.prefix&&"xmlns"===a.local||!a.uri||(n.push(this.uriToNamedNode(a.uri+a.local)),o.push(a.value))}else this.setVersion(e,a.value)}if(null!==h&&(e.subject=u?this.dataFactory.blankNode(h):this.valueToUri(h,e),d&&this.claimNodeId(e.subject)),e.subject||(e.subject=this.dataFactory.blankNode()),r){const s=this.uriToNamedNode(t.uri+t.local);this.emitTriple(e.subject,this.dataFactory.namedNode(l.RDF+"type"),s,i?i.reifiedStatementId:null,e.childrenTripleTerms,e.reifier)}if(i){if(i.predicate)if(i.childrenCollectionSubject){const t=this.dataFactory.blankNode(),s=this.dataFactory.namedNode(l.RDF+"rest"),a=i.childrenCollectionPredicate.equals(s);this.emitTriple(i.childrenCollectionSubject,i.childrenCollectionPredicate,t,a?null:i.reifiedStatementId,i.childrenTripleTerms,a?null:i.reifier),this.emitTriple(t,this.dataFactory.namedNode(l.RDF+"first"),e.subject,null,e.childrenTripleTerms),i.childrenCollectionSubject=t,i.childrenCollectionPredicate=s}else{i.childrenTagsToTripleTerms||(this.emitTriple(i.subject,i.predicate,e.subject,i.reifiedStatementId,i.childrenTripleTerms,i.reifier),i.predicateEmitted=!0);for(let t=0;t<i.predicateSubPredicates.length;t++)this.emitTriple(e.subject,i.predicateSubPredicates[t],i.predicateSubObjects[t],null,i.childrenTripleTerms,i.reifier);i.predicateSubPredicates=[],i.predicateSubObjects=[]}for(let t=0;t<n.length;t++){const s=this.createLiteral(o[t],e);this.emitTriple(e.subject,n[t],s,i.reifiedStatementId,i.childrenTripleTerms,i.reifier)}p&&this.emitTriple(e.subject,this.dataFactory.namedNode(l.RDF+"type"),this.uriToNamedNode(p),null,e.childrenTripleTerms,e.reifier)}}onTagProperty(t,e,i){if(e.childrenParseType=c.RESOURCE,e.subject=i.subject,t.uri===l.RDF&&"li"===t.local?(i.listItemCounter||(i.listItemCounter=1),e.predicate=this.uriToNamedNode(t.uri+"_"+i.listItemCounter++)):e.predicate=this.uriToNamedNode(t.uri+t.local),t.uri===l.RDF&&l.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(t.local)>=0)throw this.newParseError(`Illegal property element name: ${t.local}`);e.predicateSubPredicates=[],e.predicateSubObjects=[];let s=!1,a=!1,r=null,n=!0;const o=[],h=[];for(const d in t.attributes){const i=t.attributes[d];if(i.uri!==l.RDF||"version"!==i.local){if(i.uri===l.RDF)switch(i.local){case"resource":if(r)throw this.newParseError(`Found both rdf:resource (${i.value}) and rdf:nodeID (${r}).`);if(s)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${i.value})`);e.hadChildren=!0,r=i.value,n=!1;continue;case"datatype":if(a)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${i.value}).`);if(s)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${i.value})`);e.datatype=this.valueToUri(i.value,e);continue;case"nodeID":if(a)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${i.value}).`);if(e.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${i.value}).`);if(s)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${i.value})`);this.validateNcname(i.value),e.hadChildren=!0,r=i.value,n=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(a)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(e.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${e.datatype.value})`);if(r)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${r})`);if("Resource"===i.value){s=!0,e.childrenParseType=c.PROPERTY;const t=this.dataFactory.blankNode();this.emitTriple(e.subject,e.predicate,t,e.reifiedStatementId,e.childrenTripleTerms,e.reifier),e.subject=t,e.predicate=null}else"Collection"===i.value?(s=!0,e.hadChildren=!0,e.childrenCollectionSubject=e.subject,e.childrenCollectionPredicate=e.predicate,n=!1):"Literal"===i.value?(s=!0,e.childrenTagsToString=!0,e.childrenStringTags=[]):"Triple"===i.value&&(s=!0,e.childrenTagsToTripleTerms=!0,e.childrenTripleTerms=[]);continue;case"ID":this.validateNcname(i.value),e.reifiedStatementId=this.valueToUri("#"+i.value,e),this.claimNodeId(e.reifiedStatementId);continue;case"annotation":e.reifier=this.dataFactory.namedNode(i.value);continue;case"annotationNodeID":e.reifier=this.dataFactory.blankNode(i.value);continue}else{if(i.uri===l.XML&&"lang"===i.local){e.language=""===i.value?null:i.value.toLowerCase();continue}if(i.uri===l.ITS&&"dir"===i.local){this.setDirection(e,i.value);continue}if(i.uri===l.ITS&&"version"===i.local)continue}if("xml"!==i.prefix&&"xmlns"!==i.prefix&&(""!==i.prefix||"xmlns"!==i.local)&&i.uri){if(s||e.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${i.value}`);e.hadChildren=!0,a=!0,o.push(this.uriToNamedNode(i.uri+i.local)),h.push(this.createLiteral(i.value,e))}}else this.setVersion(e,i.value)}if(null!==r){const t=e.subject;e.subject=n?this.dataFactory.blankNode(r):this.valueToUri(r,e),this.emitTriple(t,e.predicate,e.subject,e.reifiedStatementId,e.childrenTripleTerms,e.reifier);for(let i=0;i<o.length;i++)this.emitTriple(e.subject,o[i],h[i],null,e.childrenTripleTerms,e.reifier);e.predicateEmitted=!0}else n&&(e.predicateSubPredicates=o,e.predicateSubObjects=h,e.predicateEmitted=!1)}emitTriple(t,e,i,s,a,r){const n=this.dataFactory.quad(t,e,i,this.defaultGraph);a?a.push(n):this.push(n),r&&this.push(this.dataFactory.quad(r,this.dataFactory.namedNode(l.RDF+"reifies"),n)),s&&(this.push(this.dataFactory.quad(s,this.dataFactory.namedNode(l.RDF+"type"),this.dataFactory.namedNode(l.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(s,this.dataFactory.namedNode(l.RDF+"subject"),t,this.defaultGraph)),this.push(this.dataFactory.quad(s,this.dataFactory.namedNode(l.RDF+"predicate"),e,this.defaultGraph)),this.push(this.dataFactory.quad(s,this.dataFactory.namedNode(l.RDF+"object"),i,this.defaultGraph)))}claimNodeId(t){if(!this.allowDuplicateRdfIds){if(this.nodeIds[t.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${t.value}'.`);this.nodeIds[t.value]=!0}}onText(t){const e=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;e&&(e.childrenStringTags?e.childrenStringTags.push(t):e.predicate&&(e.text=t))}onCloseTag(){const t=this.activeTagStack.pop(),e=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;if(t.childrenStringEmitClosingTag&&t.childrenStringTags.push(t.childrenStringEmitClosingTag),t.childrenTagsToString&&(t.datatype=this.dataFactory.namedNode(l.RDF+"XMLLiteral"),t.text=t.childrenStringTags.join(""),t.hadChildren=!1),t.childrenTagsToTripleTerms&&t.predicate&&t.rdfVersion){if(1!==t.childrenTripleTerms.length)throw this.newParseError(`Expected exactly one triple term in rdf:parseType="Triple" but got ${t.childrenTripleTerms.length}`);for(const i of t.childrenTripleTerms)this.emitTriple(t.subject,t.predicate,i,null,e.childrenTripleTerms,e.reifier);t.predicateEmitted=!0}if(t.childrenCollectionSubject)this.emitTriple(t.childrenCollectionSubject,t.childrenCollectionPredicate,this.dataFactory.namedNode(l.RDF+"nil"),null,t.childrenTripleTerms);else if(t.predicate)if(t.hadChildren||t.childrenParseType===c.PROPERTY){if(!t.predicateEmitted){const e=this.dataFactory.blankNode();this.emitTriple(t.subject,t.predicate,e,t.reifiedStatementId,t.childrenTripleTerms,t.reifier);for(let i=0;i<t.predicateSubPredicates.length;i++)this.emitTriple(e,t.predicateSubPredicates[i],t.predicateSubObjects[i],null,t.childrenTripleTerms)}}else this.emitTriple(t.subject,t.predicate,this.createLiteral(t.text||"",t),t.reifiedStatementId,t.childrenTripleTerms,t.reifier)}onDoctype(t){t.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(t,e,i)=>(this.saxParser.ENTITIES[e]=i,""))}setDirection(t,e){if(e){if("ltr"!==e&&"rtl"!==e)throw this.newParseError(`Base directions must either be 'ltr' or 'rtl', while '${e}' was found.`);t.direction=e}else delete t.direction}setVersion(t,e){if(t.rdfVersion=e,this.emit("version",e),!this.isValidVersion(e))throw this.newParseError(`Detected unsupported version: ${e}`)}}var c;e.RdfXmlParser=l,l.MIME_TYPE="application/rdf+xml",l.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",l.XML="http://www.w3.org/XML/1998/namespace",l.ITS="http://www.w3.org/2005/11/its",l.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],l.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],l.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u,l.SUPPORTED_VERSIONS=["1.2","1.2-basic","1.1"],function(t){t[t["RESOURCE"]=0]="RESOURCE",t[t["PROPERTY"]=1]="PROPERTY"}(c||(e.ParseType=c={}))}}]);
//# sourceMappingURL=13.e3f95b2c.js.map